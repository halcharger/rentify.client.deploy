<page-content-container page-heading="EDIT SITE: {{vm.site.name}}"> <configure-site-tabs active-tab="PropertyDetails"> <property-details-navigation active-tab="Gallery" property-name="put property name here"> </property-details-navigation> <global-error-feedback></global-error-feedback> <div class="form-actions bottom clearfix"> <div class="btn-set pull-right"> <spinner-button buttonclass="btn-warning" text="Cancel" spinnertext="Cancelling..." click="vm.loadData()"></spinner-button> <spinner-button buttonclass="btn-primary" isdisabled="locationForm.$invalid" text="Save" spinnertext="Saving..." click="vm.save()"></spinner-button> </div> </div> <form name="galleryForm" novalidate> <default-panel class="margin-top-10" panel-heading="Gallery Details"> <div class="form-group ng-class:{'has-error has-feedback': galleryForm.name.$invalid && !galleryForm.name.$pristine};"> <label for="name">Name <p data-ng-show="galleryForm.name.$invalid && !galleryForm.name.$pristine" class="help-block"> Please provide a value for this field</p> </label> <input type="text" id="name" name="name" ng-model="vm.gallery.name" class="form-control" required> </div> <div class="form-group"> <label for="description">Description</label> <textarea id="description" ng-model="vm.gallery.description" class="form-control" rows="3"></textarea> </div> <div class="form-group clearfix"> <h4>Current images in gallery</h4> <div class="col-md-2" ng-repeat="img in vm.gallery.images"> <div class="thumbnail"> <img ng-src="{{img.azureImageUrl}}"> </div> <div class="btn-set pull-right margin-top-10"> <a class="btn btn-xs btn-danger" ng-click="vm.removeGalleryImage(vm.site.uniqueId, vm.gallery.id, img.azureImageUrl)">Remove</a> </div> </div> </div> <div class="form-group" flow-init="{target: vm.getFlowJsUploadTarget, headers: vm.getSecurityHeaders(), singleFile: true}" flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]" flow-file-success="vm.onFileUploadSuccess($file)" flow-files-submitted="vm.startUpload($flow)" flow-complete="vm.onFlowComplete()" flow-error="vm.onFlowError($file)"> <h4>Upload images to gallery</h4> <div class="btn-set margin-top-10"> <span class="btn btn-warning" flow-btn>Add Image</span> </div> <div> <div ng-repeat="file in $flow.files" class="gallery-box"> <span class="title">{{file.name}}</span> <div class="thumbnail" ng-show="$flow.files.length"> <img flow-img="file"> </div> <div class="progress progress-striped" ng-class="{active: file.isUploading()}"> <div class="progress-bar" role="progressbar" aria-valuenow="{{file.progress() * 100}}" aria-valuemin="0" aria-valuemax="100" ng-style="{width: (file.progress() * 100) + '%'}"> <span class="sr-only">{{file.progress()}}% Complete</span> </div> </div> <div class="btn-set pull-right margin-top-10"> <a class="btn btn-xs btn-warning" ng-click="file.pause()" ng-hide="file.paused || file.error">Pause</a> <a class="btn btn-xs btn-warning" ng-click="file.resume()" ng-show="file.paused">Resume</a> <a class="btn btn-xs btn-danger" ng-click="file.cancel()">Remove</a> <a class="btn btn-xs btn-info" ng-click="file.retry()" ng-show="file.error">Retry</a> </div> </div> <div class="clear"></div> </div> </div> </default-panel> </form> <div class="form-actions bottom clearfix"> <div class="btn-set pull-right"> <spinner-button buttonclass="btn-warning" text="Cancel" spinnertext="Cancelling..." click="vm.loadData()"></spinner-button> <spinner-button buttonclass="btn-primary" isdisabled="locationForm.$invalid" text="Save" spinnertext="Saving..." click="vm.save()"></spinner-button> </div> </div> </configure-site-tabs> </page-content-container>